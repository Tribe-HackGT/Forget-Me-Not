<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>My App</title>
    <!-- Path to Framework7 Library CSS-->
    <link rel="stylesheet" href="lib/framework7/css/framework7.ios.min.css">
    <!-- Path to your custom app styles-->
    <link rel="stylesheet" href="css/my-app.css">
  </head>
  <body>
    <!-- Status bar overlay for fullscreen mode-->
    <div class="statusbar-overlay"></div>
    <!-- Panels overlay-->
    <div class="panel-overlay"></div>
    <!-- Left panel with reveal effect-->
    <div class="panel panel-left panel-reveal">
      <div class="content-block">
        <p>Left panel content goes here</p>
      </div>
    </div>
    <!-- Right panel with cover effect-->
    <div class="panel panel-right panel-cover">
      <div class="content-block">
        <p>Right panel content goes here</p>
      </div>
    </div>
    <!-- Views, and they are tabs-->
    <!-- We need to set "toolbar-through" class on it to keep space for our tab bar-->
    <div class="views tabs toolbar-through">
      <!-- Your first view, it is also a .tab and should have "active" class to make it visible by default-->
      <div id="view-1" class="view view-main tab active">
        <!-- Pages-->
        <div class="pages">
          <!-- Page, data-page contains page name-->
          <div data-page="index-1" class="page">
            <!-- Scrollable page content-->
            <div class="page-content">
              <div class="content-block-title">Welcome</div>
              <div class="content-block">
                <p>This is an example of tab bar application layout. The main point of such tabbed layout is that each tab contains independent view with its own routing and navigation.</p>
                <p>Each tab/view may have different layout, different navbar type (dynamic, fixed or static) or without navbar like this tab.</p>
                <input id="create" type="button" value="Help me" onclick="doFunction();" /> 
                <p>And of course, your favorite panels are still here: <a href="#" class="open-panel">left</a> and  <a href="#" data-panel="right" class="open-panel">right</a></p>
                <p>Icons and their labels in tab bar below are just for example and don't related to their content.</p>
                       <div id="deviceready" class="blink">
        <p class="event listening">Connecting to Device</p>
        <p class="event received">Device is Ready</p>
             
                    <button onclick="hasReadPermission()">has read permission</button><br/><br/>
                    <button onclick="requestReadPermission()">req read permission</button><br/><br/>
                    <button onclick="hasWritePermission()">has write permission</button><br/><br/>
                    <button onclick="requestWritePermission()">req write permission</button><br/><br/>
                    <button onclick="hasReadWritePermission()">has readwrite permission</button><br/><br/>
                    <button onclick="requestReadWritePermission()">req readwrite permission</button><br/><br/>
                    <button onclick="openCalendar()">open calendar</button><br/><br/>
                    <button onclick="listCalendars()">list calendars</button><br/><br/>
                    <button onclick="createCalendar()">create calendar</button><br/><br/>
                    <button onclick="deleteCalendar()">delete calendar</button><br/><br/>
                    <button onclick="createCalendarEvent()">create event</button><br/><br/>
                    <button onclick="createCalendarEventWithOptions()">create event with options</button><br/><br/>
                    <button onclick="createCalendarEventInteractively()">create event interactively</button><br/><br/>
                    <button onclick="createCalendarEventInteractivelyWithOptions()">create event interactively with options</button><br/><br/>
                    <button onclick="deleteEvent()">delete event</button><br/><br/>
                    <button onclick="findEventWithFilter()">find event with filter</button><br/><br/>
                    <button onclick="findEventNoFilter()">find event no filter</button><br/><br/>
                    <button onclick="listEventsInRange()">list events in range</button>
                
              </div>
            </div>
          </div>
        </div>
      </div>
       <!-- Bottom Tabbar-->
      <div class="toolbar tabbar tabbar-labels">
        <div class="toolbar-inner"><a href="what%20I%20did.html" class="tab-link active"> <i class="icon tabbar-demo-icon-1"></i><span class="tabbar-label">What I Did</span></a><a href="who%20I%20am.html" class="tab-link"><i class="icon tabbar-demo-icon-2"></i><span class="tabbar-label">Who I Am</span></a><a href="loved%20ones.html" class="tab-link"> <i class="icon tabbar-demo-icon-3"><span class="badge bg-red">4</span></i><span class="tabbar-label">Loved Ones</span></a><a href="Help%20Me.html" class="tab-link"> <i class="icon tabbar-demo-icon-4"></i><span class="tabbar-label">Help Me</span></a><a href="facial.html" class="tab-link"><i class="icon tabbar-demo-icon-2"></i><span class="tabbar-label">Facial</span></a></div>
      </div>
    </div>
    <!-- Path to Framework7 Library JS-->
    <script type="text/javascript" src="lib/framework7/js/framework7.min.js"></script>
    <!-- Path to your app js-->
    <script type="text/javascript" src="js/my-app.js"></script>
    <script type="text/javascript" src="js/index.js"></script>
    <script type="text/javascript" src="../plugins/cordova-plugin-calendar/www/Calendar.js"></script>  
        <script> 
        function doGet() {
  var app = UiApp.createApplication().setTitle('Form and Calendar Events');
  
  //Create a penel which holds all the form elelemnts
  var panel = app.createVerticalPanel().setId('panel');
  
  //Create the form elelemnts
  var eventDateLabel = app.createLabel('Event Date:');
  var evenDate = app.createDateBox().setId('eventDate');
  var eventTitleLabel = app.createLabel('Event title:');
  var eventTitle = app.createTextBox().setName('eventTitle').setId('eventTitle');
  var eventDeatilLabel = app.createLabel('Event Details:');
  var eventDetail = app.createTextArea()
      .setSize('200', '100').setId('eventDetail').setName('eventDetail');
    var btn = app.createButton('createEvents');
  
  //Create handler which eill execute 'createEvents(e)' on clicking the button
  var handler = app.createServerClickHandler('createEvents');
  handler.addCallbackElement(panel);
  //Add this handler to the button
  btn.addClickHandler(handler);
  
  //Add all the elemnts to the panel 
  panel.add(eventDateLabel)
    .add(evenDate)
    .add(eventTitleLabel)
    .add(eventTitle)
    .add(eventDeatilLabel)
    .add(eventDetail)
    .add(btn);
  //Add this panel to the application
  app.add(panel);
  //return the application
  return app;
}

function createEvents(e){
  
  //Get the active application
  var app = UiApp.getActiveApplication();
  
  try{
    //get the entries;
    var eventDate = e.parameter.eventDate;
    var eventTitle = e.parameter.eventTitle;
    var eventDetails = e.parameter.eventDetail;
    
    //Get the calendar
    var cal = CalendarApp.getCalendarsByName('Calendar-Name')[0];//Change the calendar name
    var eventStartTime = eventDate;
    //End time is calculated by adding an hour in the event start time 
    var eventEndTime = new Date(eventDate.valueOf()+60*60*1000);
    //Create the events
    cal.createEvent(eventTitle, eventStartTime,eventEndTime ,{description:eventDetails});
    
    //Log the entries in a spreadsheet
    var ss = SpreadsheetApp.openById('Spreadsheet-Key');//Change the spreadhseet key to yours
    var sheet = ss.getSheets()[0];
    sheet.getRange(sheet.getLastRow()+1, 1, 1, 5).setValues([[new Date(), eventDate,eventTitle, eventDetails, 'Event created']]);
    
    //Show the confirmation message
    app.add(app.createLabel('Event created Successfully'));
    //make the form panel invisible
    app.getElementById('panel').setVisible(false);
    return app;
  }
  
  //If an error occurs, show it on the panel
  catch(e){
    app.add(app.createLabel('Error occured: '+e));
    return app;
  }
}
        </script>
  </body>
</html>