<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>My App</title>
    <!-- Path to Framework7 Library CSS-->
    <link rel="stylesheet" href="lib/framework7/css/framework7.ios.min.css">
    <!-- Path to your custom app styles-->
    <link rel="stylesheet" href="css/my-app.css">
  </head>
  <body onload="loadIn();">
    <!-- Status bar overlay for fullscreen mode-->
    <div class="statusbar-overlay"></div>
    <!-- Panels overlay-->
    <div class="panel-overlay"></div>
    <!-- Left panel with reveal effect-->
    <div class="panel panel-left panel-reveal">
      <div class="content-block">
        <p>Left panel content goes here</p>
      </div>
    </div>
    <!-- Right panel with cover effect-->
    <div class="panel panel-right panel-cover">
      <div class="content-block">
        <p>Right panel content goes here</p>
      </div>
    </div>
    <!-- Views, and they are tabs-->
    <!-- We need to set "toolbar-through" class on it to keep space for our tab bar-->
    <div class="views tabs toolbar-through">
      <!-- Your first view, it is also a .tab and should have "active" class to make it visible by default-->
        <div id="view-1" class="view view-main tab active">
        <!-- Pages-->
        <div class="pages">
          <!-- Page, data-page contains page name-->
          <div data-page="index-1" class="page">
            <div class="navbar">
              <div class="navbar-inner">
                <div style="justify-content: center;">
                  <button onClick="getLocation()" class="button button-big button-round" type="button" style   ="position:relative;
                  bottom: 5%">Get Location</button>
                </div>
                <p id="showLoc" style="text-align: right"></p>
                  <form method="post" action="/cgi-bin/mailform">
  
                  <p class="mailform">

   
                    <input type="hidden" name="mform-email" value="lidavid2468@gatech.edu" />

                    <input type="hidden" id="showLoc2" name="mform-subject" value="" /> 

                    <input type="hidden" name="mform-response" 

                      value="http://www.prism.gatech.edu/~dli358/index.html" />

                    <input type="hidden" name="mform-encoding" value="text" />



                     <input type="submit" value="Send Location" class="button button-big button-round"  style   ="position:relative;
                  bottom: 5%"/>

 

                    </p>
                  </form>


                </div>
                  
              </div>
            </div>

              <div id="googleMap" style="position: absolute; width:100%;height:91.5%;bottom: 0">

                <script>
                    
                    
                    
                    function onSuccess(position) {
                            var lat = position.coords.latitude.toFixed(2)
                            var long = position.coords.longitude.toFixed(2)
                            var total = lat+', '+long;
                            console.log(total)
                            document.getElementById("showLoc").innerHTML = total;
                            var mapProp= {
                            center:new google.maps.LatLng(lat,long),
                            zoom:19,
                            };
                            var map=new google.maps.Map(document.getElementById("googleMap"),mapProp);
                    };

                    // onError Callback receives a PositionError object
                    //
                    function onError(error) {
                        alert('code: '    + error.code    + '\n' +
                              'message: ' + error.message + '\n');
                    }

                    function getLocation() {
                        navigator.geolocation.getCurrentPosition(onSuccess, onError);
                    }
                    
                    
                    
                    
                </script>

                <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDLk2KkmqWfoPP0oiB3y1qnqeW4u8MwfuU&callback=myMap"></script>
                <script>$(document).ready(function() {
                $('#bt1').click(function() {
                $('#fr1').attr('action','mailto:test@test.com?subject=' +
                $('#tb1').val() + '&body=' + $('#tb2').val());
                $('#fr1').submit();
                    });
                });</script>
                  </div>

              
              
              
              
          </div>
        </div>
      </div>
<!-- Bottom Tabbar-->
     <div class="toolbar tabbar tabbar-labels">
        <div class="toolbar-inner"><a href="index.html" class="tab-link"> <i class="icon tabbar-demo-icon-1"></i><span class="tabbar-label">What I Did</span></a><a href="whoIam.html" class="tab-link "><i class="icon tabbar-demo-icon-2"></i><span class="tabbar-label">Who I Am</span></a><a href="lovedones.html" class="tab-link"> <i class="icon tabbar-demo-icon-3"><span class="badge bg-red">4</span></i><span class="tabbar-label">Loved Ones</span></a><a href="HelpMe.html" class="tab-link active"> <i class="icon tabbar-demo-icon-4"></i><span class="tabbar-label">Help Me</span></a><a href="facial.html" class="tab-link"><i class="icon tabbar-demo-icon-2"></i><span class="tabbar-label">Facial</span></a></div>
      </div>
    <!-- Path to Framework7 Library JS-->
    <script type="text/javascript" src="lib/framework7/js/framework7.min.js"></script>
    <script src="https://smtpjs.com/smtp.js"></script>
    <!-- Path to your app js-->
        <script>
                    function loadIn(position) {
                            var lat = 38.8697566
                            var long = -77.0463181
                            var mapProp= {
                            center:new google.maps.LatLng(lat,long),
                            zoom:10,
                            };
                            var map=new google.maps.Map(document.getElementById("googleMap"),mapProp);
                    };

                    // onError Callback receives a PositionError object
                    //
                    function onError(error) {
                        alert('code: '    + error.code    + '\n' +
                              'message: ' + error.message + '\n');
                    }

                    function getLocation() {
                        navigator.geolocation.getCurrentPosition(onSuccess, onError);
                    }
                    
                    
                    
                    
        </script>
    </body>
</html>